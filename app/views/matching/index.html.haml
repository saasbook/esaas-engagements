.page-header.jumbotron.mt-4.my-4
  %h1
    Project Matchings
    .btn.btn-success.pull-right.mt-3{"data-toggle" => "popover", "title"=>"Quick Info" } New Matching
  .help-block Click a matching to see more information
  
-# For coach only -> show all ongoing matching
%table.table.table-condensed#apps_table
  %thead
    %tr
      %th.h4
        Matching Name
      %th.h4
        Status
      %th.h4
        Operation
  %tbody
    - @matchings.each do |matching|
      %tr
        %td.align-middle{:height => "70"}
          = link_to matching.id, show_my_matching_path(matching.id),  :class => 'btn btn-primary'
        %td.align-middle
          - if matching.id == "In Progress" then
            = link_to matching.id, matching_progress_path(matching.id), :class => 'btn btn-danger btn-sm pill'
          - else
            %span.badge.alert-success
              = matching.id

  


:javascript

  //TODO: need validation
  // Bootstrap Function for popover when click New matching
  $(function () {
    $('[data-toggle="popover"]').popover({
    container: 'body',
    html: true,
    placement: 'bottom',
    sanitize: false,
    content: 
    `
    <div id="PopoverContent">
      <form action="matching/new" method="get">
        <div class="form-group">
          <label for="exampleInputEmail1">Matching Title</label>
          <input type="text" class="form-control" id="exampleInputEmail1"  placeholder="Enter Title" >
        </div>
        <div class="form-group">
          <label for="exampleInputPassword1">Number of Engagements</label>
          <input type="text" class="form-control" id="exampleInputPassword1" placeholder="0">
        </div>
        <button type="submit" class="btn btn-dark">Next</button>
      </form>
    </div>`
    })
  });

  $(document).on('click',  (e) => {
    $('[data-toggle="popover"]').each(function () {
        if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {                
            (($(this).popover('hide').data('bs.popover')||{}).inState||{}).click = false  // fix for BS 3.3.6
        }
    });
  });
  